#!/bin/bash
# AiCMR CLI - Entry point
# Load CLI config từ .env file

# Load .env - parse từng key=value và export
if [ -f ".env" ]; then
    while IFS='=' read -r key value; do
        # Bỏ qua comments và empty lines
        [[ "$key" =~ ^#.*$ ]] && continue
        [[ -z "$key" ]] && continue
        # Export biến
        export "$key=$value"
    done < <(grep -E '^[^#]' .env | grep '=')
fi

# Set default CLI values if not defined in .env
if [ -z "$CLI_NAME" ]; then
    export CLI_NAME="cli"
fi

if [ -z "$CLI_DESCRIPTION" ]; then
    export CLI_DESCRIPTION="AiCMR CLI - Quản lý hệ thống AiCMR"
fi

if [ -z "$PROJECT_NAME" ]; then
    export PROJECT_NAME="AiCMR"
fi

# Call index.sh
scripts/index.sh "$@"
